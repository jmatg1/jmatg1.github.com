!function(a){a.PFC_Form=function(b){function c(a){var b="method"in a?a.method:"get",c="queryURL"in a?a.queryURL:"",d="data"in a?a.data:"",e="success"in a?a.success:function(a){console.log("Successfully completed AJAX request.")},f="error"in a?a.error:function(a){console.log("Error during AJAX request.")},g=new XMLHttpRequest;g.onreadystatechange=function(){4===g.readyState&&(200===g.status?e(g.responseText,g.status):f(g.responseText,g.status))},"post"==b.toLowerCase()?(g.open(b,c,!0),g.setRequestHeader("Content-type","application/x-www-form-urlencoded"),g.send(d)):(g.open(b,c+(""==d?"":"?"+d),!0),g.send(null))}var d=function(b){var c=this,d="formID"in b?b.formID:"";if(null==d)return!1;var e="submitButtonID"in b?b.submitButtonID:"";c.el={},c.el.form=document.getElementById(d),c.el.button=document.getElementById(e);var f=c.el.form.getAttribute("ajax-action");c.el.form.setAttribute("action",f),c.el.form.querySelector('input[name="action"]').value="pcf_send_email_ajax",c.el.form.addEventListener("submit",function(b){b.preventDefault(),a.grecaptcha?(c.el.form.classList.add("pcf_reCaptcha"),a.setTimeout(function(){a.grecaptcha.execute()},2e3)):c.submitViaAjax()},!0)};return d.prototype.submitViaAjax=function(){var b=this;b.el.form.classList.remove("pcf_reCaptcha"),b.el.form.classList.add("pcf_submitting"),a.setTimeout(function(){c({method:b.el.form.getAttribute("method"),queryURL:b.el.form.getAttribute("action"),data:b.el.form.pcf_serialize(),success:function(a){a=JSON.parse(a),b.respondToUser({success:a.success})},error:function(a){b.respondToUser({response:"There was a problem connecting to the server. Wait a moment, and then you can try to submit again if you'd like to."})}})},500)},d.prototype.respondToUser=function(a){var b=this,c="success"in a&&a.success,d="response"in a?a.response:c?"Your message has been sent, thanks!":"Your message hasn't been sent, due to a server error. Please wait a few minutes and try again. We are very sorry for the inconvenience.";setTimeout(function(){b.updateVisibleStatus({success:c,response:d}),c&&b.el.form.reset(),setTimeout(function(){b.resetVisibleStatus()},5e3)},1e3)},d.prototype.resetVisibleStatus=function(){var a=this;a.el.form.classList.remove("pcf_error"),a.el.form.classList.remove("pcf_success")},d.prototype.updateVisibleStatus=function(a){var b=this,c="success"in a&&a.success;"response"in a&&a.response;1==c?(b.el.form.classList.add("pcf_success"),b.el.form.classList.remove("pcf_submitting"),b.el.form.classList.remove("pcf_reCaptcha"),b.el.button.innerText="Send Another Message"):(b.el.form.classList.add("pcf_error"),b.el.form.classList.remove("pcf_submitting"),b.el.form.classList.remove("pcf_reCaptcha"))},d}(),HTMLFormElement.prototype.pcf_serialize=function(){for(var a=[],b=this.elements.length-1;b>=0;b--)if(""!==this.elements[b].name)switch(this.elements[b].nodeName){case"INPUT":switch(this.elements[b].type){case"file":case"submit":case"button":break;case"checkbox":case"radio":this.elements[b].checked&&a.push(this.elements[b].name+"="+encodeURIComponent(this.elements[b].value));break;default:a.push(this.elements[b].name+"="+encodeURIComponent(this.elements[b].value))}break;case"TEXTAREA":a.push(this.elements[b].name+"="+encodeURIComponent(this.elements[b].value));break;case"SELECT":switch(this.elements[b].type){case"select-one":a.push(this.elements[b].name+"="+encodeURIComponent(this.elements[b].value));break;case"select-multiple":for(var c=this.elements[b].options.length-1;c>=0;c--)this.elements[b].options[c].selected&&a.push(this.elements[b].name+"="+encodeURIComponent(this.elements[b].options[c].value))}}return a.join("&")}}(window);